const els=[],rem=new RegExp(/{{ .*? }}/g),w=new Proxy(window,{set:(e,r,d)=>(e[r]=d,render(),!0),get:(e,r)=>e[r]});let update=d=>new Promise(e=>{let r=d.querySelectorAll("*");r.forEach(e=>{for(var r in e.childNodes)e.childNodes[r]?.nodeValue?.match(rem)&&(e.lxd||(e.lxd={nodes:{},props:{}}),e.lxd.nodes[r]=e.childNodes[r].nodeValue,els.includes(e)||els.push(e));for(var d in e)d.toLowerCase().includes("text")||d.includes("HTML")||e.getAttribute(d)?.toString()?.match(rem)&&(e.lxd||(e.lxd={nodes:{},props:{}}),e.lxd.props[d]=e.getAttribute(d),els.includes(e)||els.push(e))}),e()}),parse=e=>{let d=e.replaceAll("\n",""),r=d.match(rem);return r?.forEach(e=>{var r=e.slice(3,-3);d=d.split(e).join(Function("return "+r)())}),d},render=()=>{els.forEach(e=>{for(var r in e.lxd.nodes){var d=parse(e.lxd.nodes[r]);e.childNodes[r].nodeValue!==d&&(e.childNodes[r].nodeValue=d)}for(var o in e.lxd.props){var t=parse(e.lxd.props[o]);e[o]!==t&&(e[o]=t)}}),document.querySelectorAll("embed-html").forEach(e=>{e.innerHTML=parse(e.getAttribute("value"))})};document.addEventListener("DOMContentLoaded",()=>{update(document.body).then(()=>{updateComponents&&updateComponents(),render()})});